{"ast":null,"code":"var _jsxFileName = \"/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/ViewAdminRequests/ViewAdminRequests.js\";\nimport React from 'react';\nimport Adminicon from \"./AddModerator.png\";\nimport './ViewAdminRequests.css';\nimport BACKEND_LINK from './../../env.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AdminRequest extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addAdmin = request => {\n      fetch(BACKEND_LINK + '/adminreqs/accept', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(request)\n      }).then(response => response.json()).then(response => {\n        if (response.error) {\n          alert(response.error);\n        } else if (response.message) {\n          alert(response.message);\n          fetch(BACKEND_LINK + '/adminreqs', {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.props.user)\n          }).then(response => response.json()).then(response => {\n            if (response.error) {\n              alert(response.error);\n            } else if (response.message) {\n              alert(response.message);\n            } else if (response.backenddata) {\n              this.setState({\n                requests: response.backenddata\n              });\n            }\n          });\n        } else if (response.backenddata) {\n          this.setState({\n            requests: response.backenddata\n          });\n        }\n      });\n    };\n\n    this.rejectAdmin = request => {\n      fetch(BACKEND_LINK + '/adminreqs/reject', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(request)\n      }).then(response => response.json()).then(response => {\n        if (response.error) {\n          alert(response.error);\n        } else if (response.message) {\n          alert(response.message);\n          fetch(BACKEND_LINK + '/adminreqs', {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.props.user)\n          }).then(response => response.json()).then(response => {\n            if (response.error) {\n              alert(response.error);\n            } else if (response.message) {\n              alert(response.message);\n            } else if (response.backenddata) {\n              this.setState({\n                requests: response.backenddata\n              });\n            }\n          });\n        } else if (response.backenddata) {\n          this.setState({\n            requests: response.backenddata\n          });\n        }\n      });\n    };\n\n    this.state = {\n      requests: []\n    };\n  }\n\n  componentWillMount() {\n    fetch(BACKEND_LINK + '/adminreqs', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.props.user)\n    }).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert(response.error);\n      } else if (response.message) {\n        alert(response.message);\n      } else if (response.backenddata) {\n        this.setState({\n          requests: response.backenddata\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      onRouteChange\n    } = this.props;\n    const addAdmin = this.addAdmin;\n    const rejectAdmin = this.rejectAdmin;\n    const requests = this.state.requests.map(function (request) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landingpost\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Adminship Request\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: request.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: request.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: request.date.slice(0, 10) + \" \" + request.date.slice(11, 19)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-green-button\",\n          onClick: () => addAdmin(request),\n          children: \"Add Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-red-button\",\n          onClick: () => rejectAdmin(request),\n          children: \"Reject Request\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, request._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"homepage body-center-align\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"homepageprofile\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"iconpic\",\n            src: Adminicon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"usecasename\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"View Admin Requests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landinghappeningadmin\",\n        children: requests\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AdminRequest;","map":{"version":3,"sources":["/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/ViewAdminRequests/ViewAdminRequests.js"],"names":["React","Adminicon","BACKEND_LINK","AdminRequest","Component","constructor","props","addAdmin","request","fetch","method","headers","body","JSON","stringify","then","response","json","error","alert","message","user","backenddata","setState","requests","rejectAdmin","state","componentWillMount","render","onRouteChange","map","fullname","content","date","slice","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Adminicon from \"./AddModerator.png\";\nimport './ViewAdminRequests.css'\nimport BACKEND_LINK from './../../env.js'\n\nclass AdminRequest extends React.Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            requests: []\n        }\n    }\n\n    componentWillMount() {\n        fetch(BACKEND_LINK + '/adminreqs', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.props.user)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n                this.setState({ requests: response.backenddata})\n            }\n        })\n    }\n\n    addAdmin = (request) => {\n        fetch(BACKEND_LINK + '/adminreqs/accept', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(request)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n                fetch(BACKEND_LINK + '/adminreqs', {\n                    method: 'post',\n                    headers: {'Content-Type': 'application/json'},\n                    body: JSON.stringify(this.props.user)\n                })\n                .then(response => response.json())\n                .then(response => {\n                    if (response.error) {\n                        alert(response.error)\n                    }\n                    else if (response.message) {\n                        alert(response.message)\n                    }\n                    else if (response.backenddata) {\n                        this.setState({ requests: response.backenddata })\n                    }\n                })\n            }\n            else if (response.backenddata) {\n                this.setState({ requests: response.backenddata })\n            }\n        })\n    }\n\n    rejectAdmin = (request) => {\n        fetch(BACKEND_LINK + '/adminreqs/reject', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(request)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n                fetch(BACKEND_LINK + '/adminreqs', {\n                    method: 'post',\n                    headers: {'Content-Type': 'application/json'},\n                    body: JSON.stringify(this.props.user)\n                })\n                .then(response => response.json())\n                .then(response => {\n                    if (response.error) {\n                        alert(response.error)\n                    }\n                    else if (response.message) {\n                        alert(response.message)\n                    }\n                    else if (response.backenddata) {\n                        this.setState({ requests: response.backenddata })\n                    }\n                })\n            }\n            else if (response.backenddata) {\n                this.setState({ requests: response.backenddata })\n            }\n        })\n    }\n\n\trender() {\n        const { onRouteChange } = this.props;\n        const addAdmin = this.addAdmin\n        const rejectAdmin = this.rejectAdmin\n\n        const requests = this.state.requests.map(function(request) {\n            return (\n                <div className=\"landingpost\" key={ request._id }>\n                    <h4>Adminship Request</h4>\n                    <h3>{ request.fullname }</h3>\n                    <h1>{ request.content}</h1>\n                    <h2>{ request.date.slice(0, 10) + \" \" + request.date.slice(11, 19)  }</h2>\n                    <a className=\"form-green-button\" onClick={() => addAdmin(request)}>Add Admin</a>\n                    <a className=\"form-red-button\" onClick={() => rejectAdmin(request)} >Reject Request</a>\n                </div>\n            )\n        })\n\n\t\treturn (\n            <div>\n                <div className=\"homepage body-center-align\">\n                    <div className=\"homepageprofile\">\n                    <img className=\"iconpic\" src={ Adminicon } />  \n                    </div>\n\n                        <div className=\"usecasename\">\n                        <p>View Admin Requests</p>\n                        </div>\n\n                </div>\n                    <div className=\"landinghappeningadmin\">\n                        { requests }\n                </div>\n\n                \n                {/* <a className=\"form-green-button-view\"  onClick={() => { onRouteChange('ViewMyFoodDeliveryRequest') }}>View My Requests</a>\n                <a className=\"form-green-button-post\"  onClick={() => { onRouteChange('PostFoodDeliveryRequest') }}>Post a Request</a> */}\n                \n                    \n                \n\n            </div>\n\t\t\t\n\t\t)\n\t}\n}\n\nexport default AdminRequest;"]},"metadata":{},"sourceType":"module"}