{"ast":null,"code":"var _jsxFileName = \"/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/Marketplace/MarketplaceMyPosts.js\";\nimport React from 'react';\nimport Marketplace from \"./Marketplace.png\";\nimport './MarketplaceMyPosts.css';\nimport BACKEND_LINK from './../../env.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MarketplaceMyPosts extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onDelete = post => {\n      fetch(BACKEND_LINK + '/marketplace/delete', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(post)\n      }).then(response => response.json()).then(response => {\n        if (response.error) {\n          alert(response.error);\n        } else if (response.message) {\n          alert(response.message);\n          fetch(BACKEND_LINK + '/marketplace/myposts', {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.props.user)\n          }).then(response => response.json()).then(response => {\n            if (response.error) {\n              alert(response.error);\n            } else if (response.message) {\n              alert(response.message);\n            } else if (response.backenddata) {\n              this.setState({\n                myposts: response.backenddata\n              });\n            }\n          });\n        } else if (response.backenddata) {\n          this.setState({\n            myposts: response.backenddata\n          });\n        }\n      });\n    };\n\n    this.state = {\n      myposts: [],\n      user_id: this.props.user.user_id\n    };\n  }\n\n  componentWillMount() {\n    fetch(BACKEND_LINK + '/marketplace/myposts', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.props.user)\n    }).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert(response.error);\n      } else if (response.message) {\n        alert(response.message);\n      } else if (response.backenddata) {\n        this.setState({\n          myposts: response.backenddata\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      onRouteChange,\n      user\n    } = this.props;\n    const onDeleteVar = this.onDelete;\n    const myposts = this.state.myposts.map(function (post) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"viewmyfoodpost\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: post.user_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"u\", {\n            children: [\" \", post.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 26\n          }, this), \" \", post.content]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-button\",\n          onClick: () => {\n            onDeleteVar(post);\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"homepage body-center-align\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"homepageprofile\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"iconpic\",\n            src: Marketplace\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"usecasename\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Marketplace\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divwrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"landinghappening\",\n          children: myposts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button\",\n        onClick: () => {\n          onRouteChange('marketplace');\n        },\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MarketplaceMyPosts;","map":{"version":3,"sources":["/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/Marketplace/MarketplaceMyPosts.js"],"names":["React","Marketplace","BACKEND_LINK","MarketplaceMyPosts","Component","constructor","props","onDelete","post","fetch","method","headers","body","JSON","stringify","then","response","json","error","alert","message","user","backenddata","setState","myposts","state","user_id","componentWillMount","render","onRouteChange","onDeleteVar","map","date","slice","title","content","_id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAO,0BAAP;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;;AAEA,MAAMC,kBAAN,SAAiCH,KAAK,CAACI,SAAvC,CAAiD;AAE7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA6BnBC,QA7BmB,GA6BPC,IAAD,IAAU;AACjBC,MAAAA,KAAK,CAACP,YAAY,GAAG,qBAAhB,EAAuC;AACxCQ,QAAAA,MAAM,EAAE,MADgC;AAExCC,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB,SAF+B;AAGxCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAHkC,OAAvC,CAAL,CAKCO,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACE,KAAb,EAAoB;AAChBC,UAAAA,KAAK,CAACH,QAAQ,CAACE,KAAV,CAAL;AACH,SAFD,MAGK,IAAIF,QAAQ,CAACI,OAAb,EAAsB;AACvBD,UAAAA,KAAK,CAACH,QAAQ,CAACI,OAAV,CAAL;AACAX,UAAAA,KAAK,CAACP,YAAY,GAAG,sBAAhB,EAAwC;AACzCQ,YAAAA,MAAM,EAAE,MADiC;AAEzCC,YAAAA,OAAO,EAAE;AAAC,8BAAgB;AAAjB,aAFgC;AAGzCC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKR,KAAL,CAAWe,IAA1B;AAHmC,WAAxC,CAAL,CAKCN,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMC,QAAQ,IAAI;AACd,gBAAIA,QAAQ,CAACE,KAAb,EAAoB;AAChBC,cAAAA,KAAK,CAACH,QAAQ,CAACE,KAAV,CAAL;AACH,aAFD,MAGK,IAAIF,QAAQ,CAACI,OAAb,EAAsB;AACvBD,cAAAA,KAAK,CAACH,QAAQ,CAACI,OAAV,CAAL;AACH,aAFI,MAGA,IAAIJ,QAAQ,CAACM,WAAb,EAA0B;AAC3B,mBAAKC,QAAL,CAAc;AAAEC,gBAAAA,OAAO,EAAER,QAAQ,CAACM;AAApB,eAAd;AACH;AACJ,WAhBD;AAiBH,SAnBI,MAoBA,IAAIN,QAAQ,CAACM,WAAb,EAA0B;AAC3B,eAAKC,QAAL,CAAc;AAAEC,YAAAA,OAAO,EAAER,QAAQ,CAACM;AAApB,WAAd;AACH;AACJ,OAjCD;AAkCH,KAhEkB;;AAGf,SAAKG,KAAL,GAAa;AACTD,MAAAA,OAAO,EAAE,EADA;AAETE,MAAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWe,IAAX,CAAgBK;AAFhB,KAAb;AAIH;;AAEDC,EAAAA,kBAAkB,GAAG;AACjBlB,IAAAA,KAAK,CAACP,YAAY,GAAG,sBAAhB,EAAwC;AACzCQ,MAAAA,MAAM,EAAE,MADiC;AAEzCC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAFgC;AAGzCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKR,KAAL,CAAWe,IAA1B;AAHmC,KAAxC,CAAL,CAKCN,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMC,QAAQ,IAAI;AACd,UAAIA,QAAQ,CAACE,KAAb,EAAoB;AAChBC,QAAAA,KAAK,CAACH,QAAQ,CAACE,KAAV,CAAL;AACH,OAFD,MAGK,IAAIF,QAAQ,CAACI,OAAb,EAAsB;AACvBD,QAAAA,KAAK,CAACH,QAAQ,CAACI,OAAV,CAAL;AACH,OAFI,MAGA,IAAIJ,QAAQ,CAACM,WAAb,EAA0B;AAC3B,aAAKC,QAAL,CAAc;AAAEC,UAAAA,OAAO,EAAER,QAAQ,CAACM;AAApB,SAAd;AACH;AACJ,KAhBD;AAiBH;;AAwCJM,EAAAA,MAAM,GAAG;AAEF,UAAM;AAAEC,MAAAA,aAAF;AAAiBR,MAAAA;AAAjB,QAA0B,KAAKf,KAArC;AACA,UAAMwB,WAAW,GAAG,KAAKvB,QAAzB;AAEA,UAAMiB,OAAO,GAAG,KAAKC,KAAL,CAAWD,OAAX,CAAmBO,GAAnB,CAAuB,UAASvB,IAAT,EAAe;AAClD,0BACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,gCACI;AAAA,oBAAMA,IAAI,CAACkB;AAAX;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,oBAAMlB,IAAI,CAACwB,IAAL,CAAUC,KAAV,CAAgB,CAAhB,EAAmB,EAAnB,IAAyB,GAAzB,GAA+BzB,IAAI,CAACwB,IAAL,CAAUC,KAAV,CAAgB,EAAhB,EAAoB,EAApB;AAArC;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAA,uCAAK;AAAA,4BAAMzB,IAAI,CAAC0B,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAL,OAA+B1B,IAAI,CAAC2B,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAQ,UAAA,SAAS,EAAC,eAAlB;AAAkC,UAAA,OAAO,EAAE,MAAM;AAAEL,YAAAA,WAAW,CAACtB,IAAD,CAAX;AAAmB,WAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA,SAAsCA,IAAI,CAAC4B,GAA3C;AAAA;AAAA;AAAA;AAAA,cADJ;AAQH,KATe,CAAhB;AAWA,wBACI;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACA;AAAK,YAAA,SAAS,EAAC,SAAf;AAAyB,YAAA,GAAG,EAAGnC;AAA/B;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKQ;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,iCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBALR;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAYI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,+BAEA;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBACUuB;AADV;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,cAZJ,eAqBI;AAAG,QAAA,SAAS,EAAC,mBAAb;AAAiC,QAAA,OAAO,EAAE,MAAM;AAAEK,UAAAA,aAAa,CAAC,aAAD,CAAb;AAA8B,SAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA4BN;;AAjH+C;;AAoHjD,eAAe1B,kBAAf","sourcesContent":["import React from 'react';\nimport Marketplace from \"./Marketplace.png\";\nimport './MarketplaceMyPosts.css'\nimport BACKEND_LINK from './../../env.js';\n\nclass MarketplaceMyPosts extends React.Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            myposts: [],\n            user_id: this.props.user.user_id\n        }\n    }\n\n    componentWillMount() {\n        fetch(BACKEND_LINK + '/marketplace/myposts', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.props.user)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n                this.setState({ myposts: response.backenddata })\n            }\n        })\n    }\n\n    onDelete = (post) => {\n        fetch(BACKEND_LINK + '/marketplace/delete', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(post)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n                fetch(BACKEND_LINK + '/marketplace/myposts', {\n                    method: 'post',\n                    headers: {'Content-Type': 'application/json'},\n                    body: JSON.stringify(this.props.user)\n                })\n                .then(response => response.json())\n                .then(response => {\n                    if (response.error) {\n                        alert(response.error)\n                    }\n                    else if (response.message) {\n                        alert(response.message)\n                    }\n                    else if (response.backenddata) {\n                        this.setState({ myposts: response.backenddata })\n                    }\n                })\n            }\n            else if (response.backenddata) {\n                this.setState({ myposts: response.backenddata })\n            }\n        })   \n    }\n\n\n\trender() {\n\n        const { onRouteChange, user } = this.props;\n        const onDeleteVar = this.onDelete\n\n        const myposts = this.state.myposts.map(function(post) {\n            return (\n                <div className=\"viewmyfoodpost\" key={ post._id }>\n                    <h3>{ post.user_id }</h3>\n                    <h2>{ post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)  }</h2>\n                    <h1> <u> { post.title } </u> { post.content }</h1>\n                    <button className=\"delete-button\" onClick={() => { onDeleteVar(post) } }>Delete</button>\n                </div>\n            )\n        })\n\n        return (\n            <div>\n                <div className=\"homepage body-center-align\">\n                    <div className=\"homepageprofile\">\n                    <img className=\"iconpic\" src={ Marketplace } />  \n                    </div>\n\n                        <div className=\"usecasename\">\n                        <p>Marketplace</p>\n                        </div>\n\n                </div> \n\n                <div className='divwrapper'>\n\n                <div className=\"landinghappening\">\n                        { myposts }\n                </div>\n\n                \n\n                </div>\n                <a className=\"form-green-button\" onClick={() => { onRouteChange('marketplace') }}>Back</a>\n                \n               \n            </div>\n        )\n\t\t\n\t}\n}\n\nexport default MarketplaceMyPosts;"]},"metadata":{},"sourceType":"module"}