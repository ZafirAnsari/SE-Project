{"ast":null,"code":"var _jsxFileName = \"/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/InstructorReviews/InstructorReviews.js\";\nimport React from 'react';\nimport fastfood from \"./Fastfood.png\";\nimport './InstructorReviews.css';\nimport BACKEND_LINK from './../../env.js';\nimport SearchBox from './../SearchBox/SearchBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass InstructorReviews extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSearchChange = event => {\n      this.setState({\n        search: event.target.value\n      });\n    };\n\n    this.onSubmitSearch = event => {\n      this.setState({\n        keywords: event.target.value\n      });\n    };\n\n    this.fetchMorePosts = () => {\n      fetch(BACKEND_LINK + '/instructorreviews', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state)\n      }).then(response => response.json()).then(response => {\n        console.log(response);\n\n        if (response.error) {\n          alert(response.error);\n        } else if (response.message) {\n          alert(response.message);\n        } else if (response.backenddata) {\n          console.log(response.backenddata);\n          this.setState({\n            posts: response.backenddata,\n            rem: response.rem,\n            numberofposts: response.backenddata.length + 3\n          });\n\n          if (response.rem === 0) {\n            alert(\"You're all caught up!\");\n          }\n        }\n      });\n    };\n\n    this.state = {\n      numberofposts: 30,\n      rem: null,\n      posts: [],\n      viewsingle: false,\n      search: '',\n      keywords: ''\n    };\n  }\n\n  componentWillMount() {\n    fetch(BACKEND_LINK + '/instructorreviews', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state)\n    }).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert(response.error);\n      } else if (response.message) {\n        alert(response.message);\n      } else if (response.backenddata) {\n        console.log(response.backenddata);\n        this.setState({\n          posts: response.backenddata,\n          rem: response.rem,\n          numberofposts: response.backenddata.length + 3\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    const {\n      onRouteChange,\n      loadPost\n    } = this.props;\n    const posts = this.state.posts.map(function (post) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landingpost\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: post.postedby.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"u\", {\n            children: [\" \", post.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 27\n          }, this), \" \", post.content.slice(0, 50) + \"...\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-green-button\",\n          onClick: () => {\n            loadPost(post, 'ViewInstructorReviewsPost');\n          },\n          children: \"View post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"homepage body-center-align\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"homepageprofile\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"iconpic\",\n            src: fastfood\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"usecasenameCR\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Instructor Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n        searchChange: this.onSearchChange,\n        onSubmit: this.onSubmitSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landinghappening\",\n        children: [posts, /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-green-button-view viewmore\",\n          onClick: this.fetchMorePosts,\n          children: \"View More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button-view\",\n        onClick: () => {\n          onRouteChange('ViewMyInstructorReviews');\n        },\n        children: \"View My Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button-post\",\n        onClick: () => {\n          onRouteChange('PostInstructorReview');\n        },\n        children: \"Post a Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default InstructorReviews;","map":{"version":3,"sources":["/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/InstructorReviews/InstructorReviews.js"],"names":["React","fastfood","BACKEND_LINK","SearchBox","InstructorReviews","Component","constructor","props","onSearchChange","event","setState","search","target","value","onSubmitSearch","keywords","fetchMorePosts","fetch","method","headers","body","JSON","stringify","state","then","response","json","console","log","error","alert","message","backenddata","posts","rem","numberofposts","length","viewsingle","componentWillMount","render","user","onRouteChange","loadPost","map","post","postedby","fullname","date","slice","title","content","_id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAO,yBAAP;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;;;AAEA,MAAMC,iBAAN,SAAgCJ,KAAK,CAACK,SAAtC,CAAgD;AAE5CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkCnBC,cAlCmB,GAkCDC,KAAD,IAAW;AACxB,WAAKC,QAAL,CAAc;AAACC,QAAAA,MAAM,EAACF,KAAK,CAACG,MAAN,CAAaC;AAArB,OAAd;AACH,KApCkB;;AAAA,SAsCnBC,cAtCmB,GAsCDL,KAAD,IAAW;AACxB,WAAKC,QAAL,CAAc;AAACK,QAAAA,QAAQ,EAACN,KAAK,CAACG,MAAN,CAAaC;AAAvB,OAAd;AAGH,KA1CkB;;AAAA,SA4CnBG,cA5CmB,GA4CF,MAAM;AACnBC,MAAAA,KAAK,CAACf,YAAY,GAAG,oBAAhB,EAAsC;AACvCgB,QAAAA,MAAM,EAAE,MAD+B;AAEvCC,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB,SAF8B;AAGvCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKC,KAApB;AAHiC,OAAtC,CAAL,CAKCC,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMC,QAAQ,IAAI;AACdE,QAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,YAAIA,QAAQ,CAACI,KAAb,EAAoB;AAChBC,UAAAA,KAAK,CAACL,QAAQ,CAACI,KAAV,CAAL;AACH,SAFD,MAGK,IAAIJ,QAAQ,CAACM,OAAb,EAAsB;AACvBD,UAAAA,KAAK,CAACL,QAAQ,CAACM,OAAV,CAAL;AACH,SAFI,MAGA,IAAIN,QAAQ,CAACO,WAAb,EAA0B;AAE3BL,UAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACO,WAArB;AACA,eAAKtB,QAAL,CAAc;AAAEuB,YAAAA,KAAK,EAAER,QAAQ,CAACO,WAAlB;AAA+BE,YAAAA,GAAG,EAAET,QAAQ,CAACS,GAA7C;AAAkDC,YAAAA,aAAa,EAAEV,QAAQ,CAACO,WAAT,CAAqBI,MAArB,GAA8B;AAA/F,WAAd;;AAEA,cAAIX,QAAQ,CAACS,GAAT,KAAiB,CAArB,EAAwB;AACpBJ,YAAAA,KAAK,CAAC,uBAAD,CAAL;AACH;AACJ;AACJ,OAvBD;AAwBH,KArEkB;;AAGf,SAAKP,KAAL,GAAa;AACTY,MAAAA,aAAa,EAAE,EADN;AAETD,MAAAA,GAAG,EAAE,IAFI;AAGTD,MAAAA,KAAK,EAAE,EAHE;AAITI,MAAAA,UAAU,EAAE,KAJH;AAKT1B,MAAAA,MAAM,EAAE,EALC;AAMTI,MAAAA,QAAQ,EAAE;AAND,KAAb;AAQH;;AAEDuB,EAAAA,kBAAkB,GAAG;AACjBrB,IAAAA,KAAK,CAACf,YAAY,GAAG,oBAAhB,EAAsC;AACvCgB,MAAAA,MAAM,EAAE,MAD+B;AAEvCC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAF8B;AAGvCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKC,KAApB;AAHiC,KAAtC,CAAL,CAKCC,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMC,QAAQ,IAAI;AACd,UAAIA,QAAQ,CAACI,KAAb,EAAoB;AAChBC,QAAAA,KAAK,CAACL,QAAQ,CAACI,KAAV,CAAL;AACH,OAFD,MAGK,IAAIJ,QAAQ,CAACM,OAAb,EAAsB;AACvBD,QAAAA,KAAK,CAACL,QAAQ,CAACM,OAAV,CAAL;AACH,OAFI,MAGA,IAAIN,QAAQ,CAACO,WAAb,EAA0B;AAC3BL,QAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACO,WAArB;AACA,aAAKtB,QAAL,CAAc;AAAEuB,UAAAA,KAAK,EAAER,QAAQ,CAACO,WAAlB;AAA+BE,UAAAA,GAAG,EAAET,QAAQ,CAACS,GAA7C;AAAkDC,UAAAA,aAAa,EAAEV,QAAQ,CAACO,WAAT,CAAqBI,MAArB,GAA8B;AAA/F,SAAd;AACH;AACJ,KAjBD;AAkBH;;AAyCJG,EAAAA,MAAM,GAAG;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,KAAKjC,KAAtB;AACA,UAAM;AAAEkC,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QAA8B,KAAKnC,KAAzC;AAEA,UAAM0B,KAAK,GAAG,KAAKV,KAAL,CAAWU,KAAX,CAAiBU,GAAjB,CAAqB,UAASC,IAAT,EAAe;AAC9C,0BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACI;AAAA,oBAAMA,IAAI,CAACC,QAAL,CAAcC;AAApB;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,oBAAMF,IAAI,CAACG,IAAL,CAAUC,KAAV,CAAgB,CAAhB,EAAmB,EAAnB,IAAyB,GAAzB,GAA+BJ,IAAI,CAACG,IAAL,CAAUC,KAAV,CAAgB,EAAhB,EAAoB,EAApB;AAArC;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAA,uCAAM;AAAA,4BAAMJ,IAAI,CAACK,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAN,OAAgCL,IAAI,CAACM,OAAL,CAAaF,KAAb,CAAmB,CAAnB,EAAsB,EAAtB,IAA4B,KAA5D;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAG,UAAA,SAAS,EAAC,mBAAb;AAAiC,UAAA,OAAO,EAAE,MAAM;AAAEN,YAAAA,QAAQ,CAACE,IAAD,EAAM,2BAAN,CAAR;AAA4C,WAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA,SAAmCA,IAAI,CAACO,GAAxC;AAAA;AAAA;AAAA;AAAA,cADJ;AAQH,KATa,CAAd;AAWN,wBACU;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACA;AAAK,YAAA,SAAS,EAAC,SAAf;AAAyB,YAAA,GAAG,EAAGlD;AAA/B;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKQ;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBALR;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAYI,QAAC,SAAD;AAAW,QAAA,YAAY,EAAE,KAAKO,cAA9B;AAA8C,QAAA,QAAQ,EAAE,KAAKM;AAA7D;AAAA;AAAA;AAAA;AAAA,cAZJ,eAcI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,mBACUmB,KADV,eAEQ;AAAG,UAAA,SAAS,EAAC,iCAAb;AAA+C,UAAA,OAAO,EAAE,KAAKjB,cAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFR;AAAA;AAAA;AAAA;AAAA;AAAA,cAdJ,eAoBI;AAAG,QAAA,SAAS,EAAC,wBAAb;AAAuC,QAAA,OAAO,EAAE,MAAM;AAAEyB,UAAAA,aAAa,CAAC,yBAAD,CAAb;AAA0C,SAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cApBJ,eAqBI;AAAG,QAAA,SAAS,EAAC,wBAAb;AAAuC,QAAA,OAAO,EAAE,MAAM;AAAEA,UAAAA,aAAa,CAAC,sBAAD,CAAb;AAAuC,SAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADV;AA2BA;;AArH8C;;AAwHhD,eAAerC,iBAAf","sourcesContent":["import React from 'react';\nimport fastfood from \"./Fastfood.png\";\nimport './InstructorReviews.css'\nimport BACKEND_LINK from './../../env.js';\nimport SearchBox from './../SearchBox/SearchBox'\n\nclass InstructorReviews extends React.Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            numberofposts: 30,\n            rem: null,\n            posts: [],\n            viewsingle: false,\n            search: '',\n            keywords: ''\n        }\n    }\n\n    componentWillMount() {\n        fetch(BACKEND_LINK + '/instructorreviews', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n                console.log(response.backenddata)\n                this.setState({ posts: response.backenddata, rem: response.rem, numberofposts: response.backenddata.length + 3 })\n            }\n        })\n    }\n\n    onSearchChange = (event) => {\n        this.setState({search:event.target.value})\n    }\n\n    onSubmitSearch = (event) => {\n        this.setState({keywords:event.target.value})\n        \n\n    }\n\n    fetchMorePosts = () => {\n        fetch(BACKEND_LINK + '/instructorreviews', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(response => {\n            console.log(response)\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n\n                console.log(response.backenddata)\n                this.setState({ posts: response.backenddata, rem: response.rem, numberofposts: response.backenddata.length + 3 })\n                \n                if (response.rem === 0) {\n                    alert(\"You're all caught up!\")\n                }\n            }\n        })\n    }\n\n    \n\n\trender() {\n        const { user } = this.props\n        const { onRouteChange, loadPost } = this.props;\n\n        const posts = this.state.posts.map(function(post) {\n            return (\n                <div className=\"landingpost\" key={ post._id } >\n                    <h3>{ post.postedby.fullname }</h3>\n                    <h2>{ post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)  }</h2>\n                    <h1 > <u> { post.title } </u> { post.content.slice(0, 50) + \"...\" } </h1>\n                    <a className=\"form-green-button\" onClick={() => { loadPost(post,'ViewInstructorReviewsPost') }}>View post</a>\n                </div>\n            )\n        })     \n\n\t\treturn (\n            <div>\n                <div className=\"homepage body-center-align\">\n                    <div className=\"homepageprofile\">\n                    <img className=\"iconpic\" src={ fastfood } />  \n                    </div>\n\n                        <div className=\"usecasenameCR\">\n                        <p>Instructor Reviews</p>\n                        </div>\n\n                </div>\n\n                <SearchBox searchChange={this.onSearchChange} onSubmit={this.onSubmitSearch}/>\n\n                <div className=\"landinghappening\">\n                        { posts}       \n                        <a className=\"form-green-button-view viewmore\" onClick={this.fetchMorePosts} >View More</a>\n                </div>\n\n                \n                <a className=\"form-green-button-view\"  onClick={() => { onRouteChange('ViewMyInstructorReviews') }}>View My Reviews</a>\n                <a className=\"form-green-button-post\"  onClick={() => { onRouteChange('PostInstructorReview') }}>Post a Review</a>\n\n            </div>\n\t\t\t\n\t\t)\n\t}\n}\n\nexport default InstructorReviews;"]},"metadata":{},"sourceType":"module"}