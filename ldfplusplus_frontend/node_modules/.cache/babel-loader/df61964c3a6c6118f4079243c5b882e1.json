{"ast":null,"code":"var _jsxFileName = \"/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/EventsPortal/EventsPortal.js\";\nimport React from 'react';\nimport fastfood from \"./Fastfood.png\";\nimport './EventsPortal.css';\nimport BACKEND_LINK from './../../env.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EventsPortal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchMorePosts = () => {\n      fetch(BACKEND_LINK + '/eventsportal', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state)\n      }).then(response => response.json()).then(response => {\n        if (response.error) {\n          alert(response.error);\n        } else if (response.message) {\n          alert(response.message);\n        } else if (response.backenddata) {\n          this.setState({\n            posts: response.backenddata,\n            rem: response.rem,\n            numberofposts: response.backenddata.length + 3\n          });\n\n          if (response.rem === 0) {\n            alert(\"You're all caught up!\");\n          }\n        }\n      });\n    };\n\n    this.state = {\n      numberofposts: 3,\n      rem: null,\n      posts: [],\n      viewsingle: false\n    };\n  }\n\n  componentWillMount() {\n    fetch(BACKEND_LINK + '/eventsportal', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state)\n    }).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert(response.error);\n      } else if (response.message) {\n        alert(response.message);\n      } else if (response.backenddata) {\n        this.setState({\n          posts: response.backenddata,\n          rem: response.rem,\n          numberofposts: response.backenddata.length + 3\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    const {\n      onRouteChange,\n      loadPost\n    } = this.props;\n    const posts = this.state.posts.map(function (post) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landingpost\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"u\", {\n            children: [\" \", post.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 27\n          }, this), \" \", post.content.slice(0, 50) + \"...\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-green-button\",\n          onClick: () => {\n            loadPost(post, 'ViewEventPost');\n          },\n          children: \"View post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"homepage body-center-align\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"homepageprofile\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"iconpic\",\n            src: fastfood\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"usecasename\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landinghappening\",\n        children: [posts, /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-green-button-view viewmore\",\n          onClick: this.fetchMorePosts,\n          children: \"View More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button-view\",\n        onClick: () => {\n          onRouteChange('ViewMyEventRequest');\n        },\n        children: \"View My Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button-post\",\n        onClick: () => {\n          onRouteChange('PostEventRequest');\n        },\n        children: \"Post an Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EventsPortal;","map":{"version":3,"sources":["/home/zafir/Downloads/SE_project/SE-Project/ldfplusplus_frontend/src/components/EventsPortal/EventsPortal.js"],"names":["React","fastfood","BACKEND_LINK","EventsPortal","Component","constructor","props","fetchMorePosts","fetch","method","headers","body","JSON","stringify","state","then","response","json","error","alert","message","backenddata","setState","posts","rem","numberofposts","length","viewsingle","componentWillMount","render","user","onRouteChange","loadPost","map","post","date","slice","title","content","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport fastfood from \"./Fastfood.png\";\nimport './EventsPortal.css'\nimport BACKEND_LINK from './../../env.js';\n\nclass EventsPortal extends React.Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            numberofposts: 3,\n            rem: null,\n            posts: [],\n            viewsingle: false\n        }\n    }\n\n    componentWillMount() {\n        fetch(BACKEND_LINK + '/eventsportal', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n                this.setState({ posts: response.backenddata, rem: response.rem, numberofposts: response.backenddata.length + 3 })\n            }\n        })\n    }\n\n    fetchMorePosts = () => {\n        fetch(BACKEND_LINK + '/eventsportal', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n                this.setState({ posts: response.backenddata, rem: response.rem, numberofposts: response.backenddata.length + 3 })\n                \n                if (response.rem === 0) {\n                    alert(\"You're all caught up!\")\n                }\n            }\n        })\n    }\n\n\trender() {\n        const { user } = this.props\n        const { onRouteChange, loadPost } = this.props;\n        const posts = this.state.posts.map(function(post) {\n\n            return (\n                <div className=\"landingpost\" key={ post._id } >\n                    {/* <h3>{ post.postedby.fullname }</h3> */}\n                    <h2>{ post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)  }</h2>\n                    <h1 > <u> { post.title } </u> { post.content.slice(0, 50) + \"...\" } </h1>\n                    <a className=\"form-green-button\" onClick={() => { loadPost(post,'ViewEventPost') }}>View post</a>\n                </div>\n            )\n        })\n        \n\n\t\treturn (\n            <div>\n                <div className=\"homepage body-center-align\">\n                    <div className=\"homepageprofile\">\n                    <img className=\"iconpic\" src={ fastfood } />  \n                    </div>\n\n                        <div className=\"usecasename\">\n                        <p>Events</p>\n                        </div>\n\n                </div>\n                    <div className=\"landinghappening\">\n                        { posts}       \n                        <a className=\"form-green-button-view viewmore\" onClick={this.fetchMorePosts} >View More</a>\n                </div>\n\n                \n                <a className=\"form-green-button-view\"  onClick={() => { onRouteChange('ViewMyEventRequest') }}>View My Events</a>\n                <a className=\"form-green-button-post\"  onClick={() => { onRouteChange('PostEventRequest') }}>Post an Event</a>\n                    \n                \n\n            </div>\n\t\t\t\n\t\t)\n\t}\n}\n\nexport default EventsPortal;"]},"metadata":{},"sourceType":"module"}