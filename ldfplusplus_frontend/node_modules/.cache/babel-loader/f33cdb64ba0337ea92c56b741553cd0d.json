{"ast":null,"code":"var _jsxFileName = \"/Users/hamza/Desktop/SE/project/SE-Project/SE-Project/ldfplusplus_frontend/src/components/CourseReviews/CourseReviews.js\";\nimport React from 'react';\nimport fastfood from \"./Fastfood.png\";\nimport './CourseReviews.css';\nimport BACKEND_LINK from './../../env.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CourseReviews extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchMorePosts = () => {\n      fetch(BACKEND_LINK + '/coursereviews', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state)\n      }).then(response => response.json()).then(response => {\n        console.log(response);\n\n        if (response.error) {\n          alert(response.error);\n        } else if (response.message) {\n          alert(response.message);\n        } else if (response.backenddata) {\n          this.setState({\n            posts: response.backenddata,\n            rem: response.rem,\n            numberofposts: response.backenddata.length + 3\n          });\n\n          if (response.rem === 0) {\n            alert(\"You're all caught up!\");\n          }\n        }\n      });\n    };\n\n    this.state = {\n      numberofposts: 3,\n      rem: null,\n      posts: [],\n      viewsingle: false\n    };\n  }\n\n  componentWillMount() {\n    fetch(BACKEND_LINK + '/coursereviews', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state)\n    }).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert(response.error);\n      } else if (response.message) {\n        alert(response.message);\n      } else if (response.backenddata) {\n        this.setState({\n          posts: response.backenddata,\n          rem: response.rem,\n          numberofposts: response.backenddata.length + 3\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    const {\n      onRouteChange,\n      loadPost\n    } = this.props;\n    const posts = this.state.posts.map(function (post) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landingpost\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: post.postedby.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"u\", {\n            children: [\" \", post.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 27\n          }, this), \" \", post.content.slice(0, 50) + \"...\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-green-button\",\n          onClick: () => {\n            loadPost(post, 'ViewCourseReviewsPost');\n          },\n          children: \"View post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"homepage body-center-align\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"homepageprofile\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"iconpic\",\n            src: fastfood\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"usecasenameCR\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Course Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landinghappening\",\n        children: [posts, /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form-green-button-view viewmore\",\n          onClick: this.fetchMorePosts,\n          children: \"View More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button-view\",\n        onClick: () => {\n          onRouteChange('ViewMyCourseReviews');\n        },\n        children: \"View My Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button-post\",\n        onClick: () => {\n          onRouteChange('PostCourseReview');\n        },\n        children: \"Post a Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"form-green-button-browse\",\n        onClick: () => {\n          onRouteChange('BrowseCourses');\n        },\n        children: \"Browse Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CourseReviews;","map":{"version":3,"sources":["/Users/hamza/Desktop/SE/project/SE-Project/SE-Project/ldfplusplus_frontend/src/components/CourseReviews/CourseReviews.js"],"names":["React","fastfood","BACKEND_LINK","CourseReviews","Component","constructor","props","fetchMorePosts","fetch","method","headers","body","JSON","stringify","state","then","response","json","console","log","error","alert","message","backenddata","setState","posts","rem","numberofposts","length","viewsingle","componentWillMount","render","user","onRouteChange","loadPost","map","post","postedby","fullname","date","slice","title","content","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport fastfood from \"./Fastfood.png\";\nimport './CourseReviews.css'\nimport BACKEND_LINK from './../../env.js';\n\nclass CourseReviews extends React.Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            numberofposts: 3,\n            rem: null,\n            posts: [],\n            viewsingle: false\n        }\n    }\n\n    componentWillMount() {\n        fetch(BACKEND_LINK + '/coursereviews', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(response => {\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n                this.setState({ posts: response.backenddata, rem: response.rem, numberofposts: response.backenddata.length + 3 })\n            }\n        })\n    }\n\n    fetchMorePosts = () => {\n        fetch(BACKEND_LINK + '/coursereviews', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(response => {\n            console.log(response)\n            if (response.error) {\n                alert(response.error)\n            }\n            else if (response.message) {\n                alert(response.message)\n            }\n            else if (response.backenddata) {\n                this.setState({ posts: response.backenddata, rem: response.rem, numberofposts: response.backenddata.length + 3 })\n                \n                if (response.rem === 0) {\n                    alert(\"You're all caught up!\")\n                }\n            }\n        })\n    }\n\n\trender() {\n        const { user } = this.props\n        const { onRouteChange, loadPost } = this.props;\n        const posts = this.state.posts.map(function(post) {\n            return (\n                <div className=\"landingpost\" key={ post._id } >\n                    <h3>{ post.postedby.fullname }</h3>\n                    <h2>{ post.date.slice(0, 10) + \" \" + post.date.slice(11, 19)  }</h2>\n                    <h1 > <u> { post.title } </u> { post.content.slice(0, 50) + \"...\" } </h1>\n                    <a className=\"form-green-button\" onClick={() => { loadPost(post,'ViewCourseReviewsPost') }}>View post</a>\n                </div>\n            )\n        })     \n\n\t\treturn (\n            <div>\n                <div className=\"homepage body-center-align\">\n                    <div className=\"homepageprofile\">\n                    <img className=\"iconpic\" src={ fastfood } />  \n                    </div>\n\n                        <div className=\"usecasenameCR\">\n                        <p>Course Reviews</p>\n                        </div>\n\n                </div>\n\n                <div className=\"landinghappening\">\n                        { posts}       \n                        <a className=\"form-green-button-view viewmore\" onClick={this.fetchMorePosts} >View More</a>\n                </div>\n\n                \n                <a className=\"form-green-button-view\"  onClick={() => { onRouteChange('ViewMyCourseReviews') }}>View My Reviews</a>\n                <a className=\"form-green-button-post\"  onClick={() => { onRouteChange('PostCourseReview') }}>Post a Review</a>\n                <a className=\"form-green-button-browse\"  onClick={() => { onRouteChange('BrowseCourses') }}>Browse Courses</a>\n\n                \n\n            </div>\n\t\t\t\n\t\t)\n\t}\n}\n\nexport default CourseReviews;"]},"metadata":{},"sourceType":"module"}